<h1 class="text-2xl font-bold mb-4">Post List</h1>


<div class="space-x-4 mb-4">
  <button mat-raised-button color="primary" (click)="getPosts()">Get Posts</button>
  <button mat-raised-button color="warn" (click)="resetPosts()">Reset Posts</button>
</div>


<mat-form-field class="w-full md:w-1/3">
  <mat-label style="padding-right: 40px;">Enter ID</mat-label>
  <input  matInput [(ngModel)]="id" >
  <button matSuffix mat-icon-button color="accent" (click)="getPost(id)">
    <mat-icon>search</mat-icon>
  </button>
</mat-form-field>

<!-- Display single post -->
<div *ngIf="post" class="bg-gray-100 p-4 rounded-lg mb-4 shadow-lg">
  <h2 class="text-xl font-semibold">{{ post.title }}</h2>
  <p class="text-gray-700">{{ post.body }}</p>
</div>

<!-- Form for adding a post -->
<form (ngSubmit)="addPost(data)" class="space-y-4 bg-gray-100 p-4 rounded-lg shadow-lg mb-4">
  <h3 class="text-lg font-semibold">Add New Post</h3>

  <mat-form-field class="w-full">
    <mat-label>Title</mat-label>
    <input matInput type="text" id="title" [(ngModel)]="data.title" name="title" required>
  </mat-form-field>

  <mat-form-field class="w-full">
    <mat-label>Body</mat-label>
    <textarea matInput id="body" [(ngModel)]="data.body" name="body" required></textarea>
  </mat-form-field>

  <button mat-raised-button color="primary" type="submit">Add Post</button>
</form>

<!-- Form for updating a post -->
<form (ngSubmit)="updatePost(id, data)" class="space-y-4 bg-gray-100 p-4 rounded-lg shadow-lg mb-4">
  <h3 class="text-lg font-semibold">Update Post</h3>

  <mat-form-field class="w-full">
    <mat-label>Update Title</mat-label>
    <input matInput type="text" id="updateTitle" [(ngModel)]="data.title" name="updateTitle" required>
  </mat-form-field>

  <mat-form-field class="w-full">
    <mat-label>Update Body</mat-label>
    <textarea matInput id="updateBody" [(ngModel)]="data.body" name="updateBody" required></textarea>
  </mat-form-field>

  <button mat-raised-button color="accent" type="submit">Update Post</button>
</form>

<!-- List of all posts -->
<ul class="list-disc list-inside space-y-2 bg-white p-4 rounded-lg shadow-lg">
  <li *ngFor="let post of posts" class="text-gray-800">
    {{ post.title }}
  </li>
</ul>
